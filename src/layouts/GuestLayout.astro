---
import BaseLayout from './Layout.astro';
import type { GuestEntry, GuestCollectionType } from '~/types/layouts';
import type { Language } from '~/types';

interface Props {
  guest: GuestEntry;
  collection?: GuestCollectionType;
}

const { guest, collection } = Astro.props as Props;

// Extract language from collection name (e.g., 'en-guests' -> 'en')
const langPrefix = collection ? collection.split('-')[0] : 'en';
// Ensure it's a valid Language type
const currentLang = (langPrefix as Language);
---

<BaseLayout
  currentLang={currentLang}
  availableLanguages={['en', 'nl', 'de', 'es']}
>
  <slot />
</BaseLayout>
